# ─── Database ────────────────────────────────────────────────────────────────
# Password for the `butler` Postgres user (used to build DATABASE_URL below)
POSTGRES_PASSWORD=butler_secret

# Full async DSN used by the app inside Docker — always points to the db service name.
# Override only if you point at an external Postgres instance.
# Note: DB_PORT (below) only changes the host-side binding for local tooling;
# it does not affect this URL.
DATABASE_URL=postgresql+asyncpg://butler:butler_secret@db:5432/virtual_butler

# ─── Redis ────────────────────────────────────────────────────────────────────
# DSN used by the app inside Docker — always points to the redis service name.
# Override only if you point at an external Redis instance.
# Note: REDIS_PORT (below) only changes the host-side binding for local tooling;
# it does not affect this URL.
REDIS_URL=redis://redis:6379

# ─── Backend ─────────────────────────────────────────────────────────────────
# Must be a long random string in production (e.g. openssl rand -hex 32)
SECRET_KEY=change_me_in_production

# JWT settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Set to true to enable FastAPI debug mode and auto-reload
DEBUG=false

# ─── App ──────────────────────────────────────────────────────────────────────
APP_NAME=Virtual Butler

# Path to the repository root mounted into the backend container
REPO_ROOT=/repo

# ─── Ports (optional, defaults shown) ────────────────────────────────────────
BACKEND_PORT=8000
FRONTEND_PORT=3000
DB_PORT=5432
REDIS_PORT=6379

# ─── Frontend public URLs ─────────────────────────────────────────────────────
# Set these to your public domain in production
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000

# ─── AI provider keys (optional — can also be set per-ability) ────────────────
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_API_KEY=

# ─── GitHub OAuth (self-modification feature) ─────────────────────────────────
# Create an OAuth App at https://github.com/settings/developers
# Callback URL: http://localhost:3000/github/callback  (update for production)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:3000/github/callback
GITHUB_REPO_OWNER=raphyduck
GITHUB_REPO_NAME=virtual_butler
