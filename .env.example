# ─── Database ────────────────────────────────────────────────────────────────
# Password for the `butler` Postgres user (used to build DATABASE_URL below)
POSTGRES_PASSWORD=butler_secret

# Full async DSN — override if you point at an external Postgres instance
DATABASE_URL=postgresql+asyncpg://butler:butler_secret@db:5432/virtual_butler

# ─── Redis ────────────────────────────────────────────────────────────────────
# Override if you point at an external Redis instance
REDIS_URL=redis://redis:6379

# ─── Backend ─────────────────────────────────────────────────────────────────
# Must be a long random string in production (e.g. openssl rand -hex 32)
SECRET_KEY=change_me_in_production

# JWT settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Set to true to enable FastAPI debug mode and auto-reload
DEBUG=false

# ─── App ──────────────────────────────────────────────────────────────────────
APP_NAME=Virtual Butler

# Path to the repository root mounted into the backend container
REPO_ROOT=/repo

# ─── Ports (optional, defaults shown) ────────────────────────────────────────
BACKEND_PORT=8000
FRONTEND_PORT=3000
DB_PORT=5432
REDIS_PORT=6379

# ─── CORS ─────────────────────────────────────────────────────────────────────
# Comma-separated list of allowed origins for the backend API.
# Add your production domain (e.g. https://butler.hobbitton.at).
CORS_ORIGINS=http://localhost:3000,https://butler.hobbitton.at

# ─── Frontend public URLs ─────────────────────────────────────────────────────
# These are baked into the browser bundle at Docker build time.
# For local dev:
#   NEXT_PUBLIC_API_URL=http://localhost:8000
#   NEXT_PUBLIC_WS_URL=ws://localhost:8000
# For production behind HTTPS (nginx proxies /ws/ → backend:8000):
#   NEXT_PUBLIC_API_URL=https://your-domain.example
#   NEXT_PUBLIC_WS_URL=wss://your-domain.example
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000

# ─── AI provider keys (optional — can also be set per-ability) ────────────────
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_API_KEY=

# ─── GitHub OAuth (self-modification feature) ─────────────────────────────────
# Create an OAuth App at https://github.com/settings/developers
# Callback URL: http://localhost:3000/github/callback  (update for production)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:3000/github/callback
GITHUB_REPO_OWNER=raphyduck
GITHUB_REPO_NAME=virtual_butler

# ─── Docker Update System (production only) ─────────────────────────────────
# Current deployed version tag (e.g. v0.3.1). Used by the update endpoint.
APP_VERSION=dev
# Path to the compose project directory on the host (for update endpoint)
# COMPOSE_PROJECT_DIR=/deploy
